<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:composite="http://xmlns.jcp.org/jsf/composite"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>::Sistem Informasi STMIK Time::</title>
    <h:outputStylesheet library="css" name="primeflex.min.css"/>
    <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces"/>
</h:head>
<h:body>
    <h:form id="form_messages">
        <p:growl id="messages" showDetail="true" showSummary="true"/>
    </h:form>
    <div id="container-luar" class="fixed w-full h-full top-0 left-0">
        <div id="container-dalam" class="flex bg-white h-full w-full">
            <div id="container-navigator" class="bg-cover m-1 w-15rem border-round shadow-4">
                <!--sidebar disini-->
                <ui:insert name="sidebar">
                    <ui:include src="/admin/templates/sidebar.xhtml"/>
                </ui:insert>
            </div>
            <div id="container-main" class="flex flex-column bg-white w-full m-1">
                <div id="container-header"
                     class="flex bg-blue-200 align-items-center pl-2 h-4rem mb-1 border-round shadow-4">
                    <!--Header disini-->
                    <ui:insert>
                        <ui:include src="/admin/templates/header.xhtml"/>
                    </ui:insert>
                </div>
                <div id="container-content"
                     class="flex flex-column bg-white p-2 h-full overflow-y-auto shadow-4 border-round">
                    <!--content disini-->
                    <!--
                    <h3>
                        <p:outputLabel value="Login sebagai "/>
                        <p:outputLabel value="#{request.remoteUser}"/>
                    </h3>
                    -->
                    <h:form id="form_chart" styleClass="flex flex-wrap">

                        <p:remoteCommand action="#{chartBean.generateChartData()}"
                                         update="chart_jumlahmahasiswaperprodi"
                                         autoRun="true"/>


                        <p:remoteCommand action="#{chartBean.generateChartJumlahMahasiswaAktifByAngkatan()}"
                                         update="chart_jumlahmahasiswaperangkatan"
                                         autoRun="true"/>

                        <p:remoteCommand action="#{chartBean.generateChartJumlahMahasiswaAktifByStatusPerAngkatan()}"
                                         update="chart_jumlahmahasiswabystatuswithangkatan"
                                         autoRun="true"/>

                        <!--<p:remoteCommand action="#{dashboardBean.create()}" update="db_chart"
                                         autoRun="true"/>-->

                        <!--<p:dashboard id="db_chart" model="#{dashboardBean.responsiveModel}" responsive="true"
                                     styleClass="p-1">
-->

                            <p:panel header="Jlh mahasiswa berdasarkan prodi" id="panel_jumlahmahasiswaperprodi"
                                     toggleable="true" closable="true" styleClass="p-1">
                                <p:chart id="chart_jumlahmahasiswaperprodi" value="#{chartBean.pieModel}"
                                         styleClass="h-15rem"/>
                            </p:panel>


                            <p:panel header="Jlh mahasiswa berdasarkan angkatan" id="panel_jumlahmahasiswaperangkatan"
                                     toggleable="true" closable="true" styleClass="p-1">
                                <p:chart id="chart_jumlahmahasiswaperangkatan" styleClass="h-15rem"
                                         value="#{chartBean.lineModelMahasiswaAktifByAngkatan}"/>
                            </p:panel>

                            <p:panel header="Jlh mahasiswa berdasarkan status per angkatan" id="panel_jumlahmahasiswabystatuswithperangkatan"
                                     toggleable="true" closable="true" styleClass="p-1">
                                <p:chart id="chart_jumlahmahasiswabystatuswithangkatan" styleClass="h-15rem"
                                         value="#{chartBean.stackedBarModelMahasiswaAktifByStatusWithAngkatan}"/>
                            </p:panel>

                        <!--</p:dashboard>-->
                    </h:form>

                </div>
            </div>
        </div>
    </div>
</h:body>
</html>
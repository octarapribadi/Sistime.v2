<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:composite="http://xmlns.jcp.org/jsf/composite"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>::Sistem Informasi STMIK Time::</title>
    <h:outputStylesheet library="css" name="primeflex.min.css"/>
    <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces"/>
</h:head>
<h:body>
    <h:form id="form_messages">
        <p:growl id="messages" showDetail="true" showSummary="true"/>
    </h:form>
    <div id="container-luar" class="fixed w-full h-full top-0 left-0">
        <div id="container-dalam" class="flex bg-white h-full w-full">
            <div id="container-navigator" class="bg-cover m-1 w-15rem border-round shadow-4">
                <!--sidebar disini-->
                <ui:insert name="sidebar">
                    <ui:include src="../templates/sidebar.xhtml"/>
                </ui:insert>
            </div>
            <div id="container-main" class="flex flex-column bg-white w-full m-1">
                <div id="container-header"
                     class="flex bg-blue-200 align-items-center pl-2 h-4rem mb-1 border-round shadow-4">
                    <!--Header disini-->
                    <ui:insert>
                        <ui:include src="../templates/header.xhtml"/>
                    </ui:insert>
                </div>
                <div id="container-content"
                     class="flex bg-white pl-2 pt-2 h-full overflow-y-auto shadow-4 border-round">
                    <!--content disini-->
                    <p:remoteCommand action="#{mahasiswa2Bean.initMahasiswa()}" autoRun="true"
                                     update=":form_profile:panel_profil"/>
                    <p:remoteCommand
                            action="#{waktuKuliahBean.getWaktuKuliahByKampus(mahasiswa2Bean.selectedMahasiswa.kampus.kodeKampus)}"
                            autoRun="true" update=":form_profile:panel_profil"/>
                    <p:remoteCommand action="#{sekolahBean.findAllSekolah()}" autoRun="true"/>
                    <h:form id="form_profile">
                        <p:panelGrid id="panel_profil" columns="2" layout="flex" columnClasses="col-2 p-1,col-10 p-1"
                                     styleClass="p-3">
                            <p:outputLabel for="@next" value="Nama Mahasiswa"/>
                            <p:inputText id="txt_nama" value="#{mahasiswa2Bean.selectedMahasiswa.namaMahasiswa}"
                                         styleClass="w-full" disabled="true"/>

                            <p:outputLabel for="@next">Program Studi</p:outputLabel>
                            <p:selectOneButton id="select_programstudi" required="true" styleClass="w-full"
                                               requiredMessage="Pilih program studi!"
                                               value="#{mahasiswa2Bean.selectedMahasiswa.programStudi.kodeProgramstudi}"
                                               disabled="#{mahasiswa2Bean.selectedMahasiswa.programStudi.kodeProgramstudi != null}">
                                <f:selectItems value="#{programStudiBean.listProgramStudi()}"
                                               var="ps"
                                               itemLabel="#{ps.namaProgramstudi}"
                                               itemValue="#{ps.kodeProgramstudi}"/>
                            </p:selectOneButton>

                            <p:outputLabel for="@next" value="Angkatan"/>
                            <p:inputNumber id="txt_angkatan" value="#{mahasiswa2Bean.selectedMahasiswa.tahunAngkatan}"
                                           styleClass="w-full"
                                           disabled="#{mahasiswa2Bean.selectedMahasiswa.tahunAngkatan!=null}"
                                           decimalPlaces="0" decimalSeparator="" thousandSeparator=""
                                           minValue="2000" maxValue="2100"/>

                            <p:outputLabel for="@next" value="Email"/>
                            <p:inputText id="txt_email" type="email" value="#{mahasiswa2Bean.selectedMahasiswa.email}"
                                         styleClass="w-full" disabled="true"/>

                            <p:outputLabel for="@next">Kampus</p:outputLabel>
                            <p:selectOneButton id="select_kampus" required="true" requiredMessage="Pilih kampus!"
                                               value="#{mahasiswa2Bean.selectedMahasiswa.kampus.kodeKampus}"
                                               disabled="#{mahasiswa2Bean.selectedMahasiswa.kampus.kodeKampus != null}">
                                <p:ajax update="menu_waktukuliah"
                                        listener="#{waktuKuliahBean.getWaktuKuliahByKampus(mahasiswa2Bean.selectedMahasiswa.kampus.kodeKampus)}"/>
                                <f:selectItems value="#{kampusBean.findAllKampus()}"
                                               var="kampus"
                                               itemLabel="#{kampus.kodeKampus}"
                                               itemValue="#{kampus.kodeKampus}">
                                </f:selectItems>
                            </p:selectOneButton>

                            <p:outputLabel for="@next">Waktu Kuliah</p:outputLabel>
                            <p:selectOneMenu id="menu_waktukuliah" requiredMessage="Pilih waktu kuliah!"
                                             value="#{mahasiswa2Bean.selectedMahasiswa.waktuKuliah.idWaktukuliah}"
                                             required="true">
                                <f:selectItems value="#{waktuKuliahBean.waktuKuliahs}" var="waktu"
                                               itemValue="#{waktu.idWaktukuliah}"
                                               itemLabel="#{waktu.keterangan}"/>
                            </p:selectOneMenu>

                            <p:outputLabel for="@next">Tempat Lahir</p:outputLabel>
                            <p:inputText value="#{mahasiswa2Bean.selectedMahasiswa.tempatLahir}"
                                         id="txt_tempatlahir" styleClass="w-full"/>

                            <p:outputLabel for="@next">Tanggal Lahir</p:outputLabel>
                            <p:datePicker id="dt_tanggallahir" showIcon="true" monthNavigator="true"
                                          yearNavigator="true" styleClass="w-full"
                                          value="#{mahasiswa2Bean.selectedMahasiswa.tanggalLahir}"
                                          yearRange="1980:2020"/>

                            <p:outputLabel for="@next">Jenis Kelamin</p:outputLabel>
                            <p:selectOneRadio id="rb_jk" value="#{mahasiswa2Bean.selectedMahasiswa.jenisKelamin}">
                                <f:selectItem itemLabel="Pria" itemValue="P"/>
                                <f:selectItem itemLabel="Wanita" itemValue="W"/>
                            </p:selectOneRadio>

                            <p:outputLabel for="@next">Agama</p:outputLabel>
                            <p:selectOneMenu id="menu_agama" styleClass="w-full"
                                             value="#{mahasiswa2Bean.selectedMahasiswa.agama.idAgama}">
                                <f:selectItem itemLabel="---PILIH AGAMA---" itemValue="#{null}"/>
                                <f:selectItems value="#{agamaBean.listAgama()}" var="agama"
                                               itemLabel="#{agama.agama}" itemValue="#{agama.idAgama}"/>
                            </p:selectOneMenu>

                            <p:outputLabel value="Status:" for="@next"/>
                            <p:selectOneMenu id="menu_status" styleClass="w-full"
                                             value="#{not empty mahasiswa2Bean.selectedMahasiswa.status.idStatus?mahasiswa2Bean.selectedMahasiswa.status.idStatus:-1}">
                                <f:selectItem itemLabel="--Pilih Status--" itemValue="-1"/>
                                <f:selectItems value="#{statusBean.findAllStatus()}" var="status"
                                               itemLabel="#{status.status}" itemValue="#{status.idStatus}"/>
                            </p:selectOneMenu>

                            <p:outputLabel value="Golongan Darah:" for="@next"/>
                            <p:selectOneMenu id="menu_golongandarah"
                                             value="#{mahasiswa2Bean.selectedMahasiswa.golonganDarah}">
                                <f:selectItem itemLabel="A" itemValue="A"/>
                                <f:selectItem itemLabel="B" itemValue="B"/>
                                <f:selectItem itemLabel="AB" itemValue="AB"/>
                                <f:selectItem itemLabel="O" itemValue="O"/>
                            </p:selectOneMenu>

                            <p:outputLabel value="Kewarganegaraan:" for="@next"/>
                            <p:inputTextarea id="txt_kewarganegaraan"
                                             value="#{mahasiswa2Bean.selectedMahasiswa.kewarganegaraan}"
                                             styleClass="w-full"/>

                            <p:outputLabel value="Alamat:" for="@next"/>
                            <p:inputTextarea value="#{mahasiswa2Bean.selectedMahasiswa.alamatMahasiswa}"
                                             id="txt_alamat" maxlength="255" styleClass="w-full"
                                             autoResize="false"/>

                            <p:outputLabel value="No. Telepon:" for="@next"/>
                            <p:inputMask id="txt_telepon" styleClass="w-full"
                                         value="#{mahasiswa2Bean.selectedMahasiswa.noTeleponMahasiswa}"
                                         mask="9999999999[9999]"/>

                            <p:outputLabel value="Jumlah Saudara:" for="@next"/>
                            <p:inputNumber id="txt_jumlahsaudara" styleClass="w-full"
                                           value="#{mahasiswa2Bean.selectedMahasiswa.jumlahSaudara}"
                                           decimalPlaces="0"/>

                            <p:outputLabel value="Anak ke-" for="@next"/>
                            <p:inputNumber id="txt_anakke" styleClass="w-full"
                                           value="#{mahasiswa2Bean.selectedMahasiswa.anakKe}"
                                           minValue="1" decimalPlaces="0"/>

                            <p:outputLabel value="Hobi:" for="@next"/>
                            <p:inputTextarea id="txt_hobi" value="#{mahasiswa2Bean.selectedMahasiswa.hobi}"
                                             styleClass="w-full"
                                             placeholder="Pisahkan dengan tanda koma ','"/>

                            <p:outputLabel value="Nama Ayah:" for="@next"/>
                            <p:inputText id="txt_namaayah" styleClass="w-full"
                                         value="#{mahasiswa2Bean.selectedMahasiswa.namaAyah}"/>

                            <p:outputLabel value="Nama Ibu:" for="@next"/>
                            <p:inputText id="txt_namaibu" value="#{mahasiswa2Bean.selectedMahasiswa.namaIbu}"
                                         styleClass="w-full"/>

                            <p:outputLabel value="Pekerjaan Orang Tua:" for="@next"/>
                            <p:inputTextarea id="txt_pekerjaanorangtua" styleClass="w-full"
                                             value="#{mahasiswa2Bean.selectedMahasiswa.pekerjaanOrangtua}"
                                             autoResize="false"/>

                            <p:outputLabel value="Pendidikan Orang Tua:" for="@next"/>
                            <p:inputText id="txt_pendidikanorangtua" styleClass="w-full"
                                         value="#{mahasiswa2Bean.selectedMahasiswa.pendidikanOrangtua}"
                                         placeholder="SD / SMP / SMA / SMK / D1 / D3 / S1"
                            />

                            <p:outputLabel value="Alamat Orang Tua:" for="@next"/>
                            <p:inputTextarea value="#{mahasiswa2Bean.selectedMahasiswa.alamatOrangtua}"
                                             id="txt_alamatorangtua" styleClass="w-full"
                                             autoResize="false"/>

                            <p:outputLabel value="No. Telepon Orang Tua:" for="@next"/>
                            <p:inputMask id="txt_teleponorangtua" styleClass="w-full"
                                         value="#{mahasiswa2Bean.selectedMahasiswa.noTeleponOrangtua}"
                                         mask="9999999999[9999]"/>

                            <p:outputLabel for="@next" value="Sekolah Asal:"/>
                            <p:autoComplete completeMethod="#{sekolahBean.complete}" var="sekolah"
                                            value="#{mahasiswa2Bean.selectedMahasiswa.sekolah}"
                                            itemLabel="#{sekolah.namaSekolah}" itemValue="#{sekolah}"
                                            converter="#{sekolahConverter}"
                                            styleClass="w-full" inputStyleClass="w-full" forceSelection="true"/>
                            <p:outputLabel for="@next" value="Jurusan:"/>
                            <p:inputText id="txt_jurusan" value="#{mahasiswa2Bean.selectedMahasiswa.jurusan}"
                                         styleClass="w-full"
                                         placeholder="ipa / ips / bahasa / kejuruan lainnya"/>

                            <p:outputLabel for="@next" value="Tahun Kelulusan:"/>
                            <p:inputNumber id="txt_tahunkelulusan" styleClass="w-full"
                                           value="#{mahasiswa2Bean.selectedMahasiswa.tahunLulus}"
                                           decimalSeparator="" decimalPlaces="0" thousandSeparator=""/>

                            <p:outputLabel for="@next" value="Nomor Ijazah:"/>
                            <p:inputText id="txt_ijazah" value="#{mahasiswa2Bean.selectedMahasiswa.noIjazah}"
                                         styleClass="w-full"/>

                            <p:outputLabel for="@next" value="Tanggal Ijazah:"/>
                            <p:datePicker id="dt_tanggalijazah" styleClass="w-full" showIcon="true"
                                          monthNavigator="true" yearNavigator="true"
                                          value="#{mahasiswa2Bean.selectedMahasiswa.tanggalIjazah}"/>

                            <p:outputLabel for="@next" value="Keterangan:"/>
                            <p:inputTextarea id="txt_keterangan" value="#{mahasiswa2Bean.selectedMahasiswa.keterangan}"
                                             styleClass="w-full" autoResize="false"/>

                            <p:outputLabel/>
                            <p:column>
                                <p:commandButton id="btn_submit" value="Submit" action="#{mahasiswa2Bean.merge()}"
                                                 update=":form_messages:messages" styleClass="mr-2" icon="pi pi-save"/>
                                <p:commandButton id="btn_print" value="Print" icon="pi pi-print" disabled="true"/>
                            </p:column>


                        </p:panelGrid>

                    </h:form>

                </div>
            </div>
        </div>
    </div>
</h:body>
</html>